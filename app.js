const dotenv = require("dotenv");
const fs = require("fs");
const fetch = require("node-fetch");
dotenv.config();
const { BigQuery } = require("@google-cloud/bigquery");
const bigquery = new BigQuery();
// console.log(">>", process.env.GOOGLE_APPLICATION_CREDENTIALS)
// const file = fs.readFileSync(process.env.GOOGLE_APPLICATION_CREDENTIALS)
// console.log(">>", file)

// // const openai = new openai({
// //     apiKey: process.env.OPENAI_API_KEY,
// // });

const openAiHeaders = {
  "Content-Type": "application/json",
  Authorization: `Bearer ${process.env.OPENAI_API_KEY}`,
};

async function createTable() {
  // Creates a new table named "my_table1" in "my_dataset".
  const datasetId = "my_dataset";
  const tableId = "my_table1";
  const schema = [
    { name: "text", type: "STRING" },
    { name: "embedding", type: "FLOAT64", mode: "REPEATED" },
  ];

  const options = {
    schema: schema,
    location: "US",
  };

  // Create a new table in the dataset
  try {
    const [table] = await bigquery
      .dataset(datasetId)
      .createTable(tableId, options);
    console.log(`Table ${table.id} created.`);
  } catch (error) {
    console.error("Error creating table:", error);
  }
}
// createTable()
async function createEmbedding(textToEmbed) {
  try {
    const response = await fetch(`https://api.openai.com/v1/embeddings`, {
      method: "POST",
      headers: openAiHeaders,
      body: JSON.stringify({
        model: "text-embedding-3-small",
        input: textToEmbed,
      }),
    });
    if (response.ok) {
      const data = await response.json();
      return data.data[0].embedding;
    } else {
      console.error("Error creating embedding:", response.statusText);
    }
  } catch (error) {
    console.error("Error creating embedding:", error);
  }
}

async function insertEmbedding(text, embedding) {
  const datasetId = "my_dataset";
  const tableId = "my_table1";

  const rows = [
    {
      text: text,
      embedding: embedding,
    },
  ];

  try {
    await bigquery.dataset(datasetId).table(tableId).insert(rows);
    console.log(`Inserted ${rows.length} row(s)`);
  } catch (error) {
    console.error("Error inserting rows:", error);
    if (error.errors) {
      error.errors.forEach((err) => {
        console.error("Error details:", err.errors);
      });
    }
  }
}

async function searchSimilarEmbeddings(embedding) {
  const datasetId = "my_dataset";
  const tableId = "my_table1";
  const topK = 5;

  const embeddingString = `[${embedding.join(", ")}]`;

  const query = `SELECT distinct 
    base.text as text,
    FROM
    VECTOR_SEARCH(
      TABLE ${datasetId}.${tableId},
      'embedding',
        (SELECT ${embeddingString} as embedding FROM ${datasetId}.${tableId}),
      top_k => ${topK},
      distance_type => 'COSINE');`;

  const options = {
    query: query,
    location: "US",
  };

  try {
    const [rows] = await bigquery.query(options);
    console.log("Similar texts:", rows);
  } catch (error) {
    console.error("Error querying similar embeddings:", error);
  }
}

async function processTextAndStore(text) {
  const embedding = await createEmbedding(text);
  if (embedding) {
    await insertEmbedding(text, embedding);
  }
}

// processTextAndStore("Mujir Qureshi");

const exampleEmbedding = [
  0.0048266836, -0.054715443, 0.04558578, 0.031500462, -0.028311333,
  -0.029749567, -0.03143793, 0.031625524, -0.014202566, 0.015398488,
  0.006073414, -0.029687036, -0.031031473, -0.022433331, 0.030890776,
  0.024606315, -0.056622665, 0.013725759, 0.019040974, 0.031625524, 0.044991728,
  -0.0031383215, -0.014523041, -0.017149383, 0.022120671, -0.01281123,
  -0.037863087, 0.008121335, 0.013850823, -0.04627363, 0.02876469, -0.048305918,
  -0.01176382, 0.018947177, -0.0011734508, -0.0008949883, 0.01686799,
  -0.006120313, 0.012623634, -0.021354655, 0.028498929, -0.025684992,
  0.0013473678, 0.05024441, -0.028155003, 0.03101584, -0.07372515, 0.026388476,
  0.04270931, 0.0446478, -0.030562483, -0.00006271513, 0.026998162, 0.084918365,
  -0.037706755, -0.05162011, 0.020416677, 0.037863087, -0.03698764, 0.029937163,
  0.012217176, 0.010302136, 0.0007362158, 0.01840002, 0.021260858, -0.014695005,
  -0.017571473, 0.011716921, -0.0089108, 0.05652887, 0.008027537, 0.0373003,
  -0.016273936, 0.00072742224, -0.058967613, -0.012240626, -0.04583591,
  -0.016961787, -0.018947177, -0.05868622, -0.03595586, 0.032735467,
  -0.056716464, -0.037800554, -0.019291101, 0.017540207, -0.04342843,
  -0.013420916, -0.014655922, -0.013819558, 0.000044059365, -0.005467636,
  -0.028795956, 0.038207013, 0.020463575, 0.003388449, 0.006405615, 0.054934304,
  0.0628446, -0.025575561, 0.025982019, -0.034736488, 0.03186002, -0.031609893,
  0.008988965, 0.0030171657, -0.010372484, -0.051463783, -0.04139614,
  0.029530706, -0.104365796, -0.04302197, 0.012224993, -0.008050987,
  -0.000015312386, 0.018368756, 0.0759763, -0.041990194, 0.033767246,
  -0.0581547, 0.028545829, -0.016961787, -0.019056607, -0.064845614,
  -0.043897416, -0.021620417, -0.023730868, 0.042928174, -0.034924086,
  -0.010474099, 0.036612447, 0.025700625, 0.013420916, -0.033673447,
  -0.04164627, 0.007941555, -0.032672934, -0.011271381, -0.031906918,
  0.04333463, 0.039332587, -0.03195382, 0.006644018, -0.024637582,
  -0.0060499646, -0.035236746, -0.013811741, 0.033485852, -0.0142494645,
  -0.0015193305, 0.04249045, 0.05036947, -0.052589357, 0.0027318639, 0.02818627,
  -0.018681414, 0.049806684, -0.04614857, -0.008949883, 0.023730868, 0.03751916,
  0.027811078, -0.0371127, -0.0019697559, -0.0009726647, 0.011490243,
  0.018681414, 0.0010073504, -0.05296455, -0.006436881, 0.015085829,
  0.009575202, -0.026857466, -0.066346385, -0.013217688, 0.016430266,
  0.0020518291, -0.04574211, 0.005287857, -0.026279045, 0.047586802, 0.05878002,
  0.02058864, 0.0021378105, -0.025982019, -0.010669511, -0.0056356904,
  -0.0037968608, -0.0049673803, -0.00018869499, -0.04202146, 0.048743643,
  0.028264435, 0.0043381527, -0.00096045143, -0.040802088, 0.06953551,
  0.012076479, -0.008762287, 0.019369267, -0.011709104, 0.011443344,
  -0.017462043, -0.030718813, -0.027060695, -0.031672426, 0.010216155,
  0.060030658, -0.013170789, -0.03470522, 0.08122898, -0.01619577, -0.01760274,
  -0.019416165, -0.04836845, -0.016836723, 0.012029581, 0.022105038,
  0.0017958389, -0.041364875, -0.032860532, 0.06365751, 0.0683474, 0.01875958,
  0.02368397, 0.0071911723, 0.008293298, -0.032860532, 0.054903038, 0.013819558,
  0.021385921, 0.018587617, 0.011208849, -0.04302197, 0.0014841564, -0.03075008,
  0.046086036, -0.01650843, -0.0055848835, 0.0024524243, -0.065470934,
  -0.012068663, 0.011404261, 0.032610405, 0.03604966, -0.0052136, -0.034642693,
  -0.039176255, 0.036174722, 0.019885154, 0.032798, 0.022871055, -0.013186421,
  0.004037218, 0.030359253, -0.00092430017, -0.011138501, 0.009293809,
  0.0431783, -0.02069807, -0.036737513, -0.04627363, -0.011599674, -0.031187803,
  -0.01976009, -0.023824668, 0.0137648415, 0.0016619816, -0.019040974,
  -0.02132339, 0.03908246, -0.00023107504, 0.06522081, -0.025825689,
  -0.00432252, -0.008879535, -0.011896701, -0.00034539122, -0.035486873,
  0.028076839, -0.019244203, -0.0060186987, -0.007023118, 0.06306346,
  -0.043209568, 0.002415296, 0.021682948, -0.008050987, -0.0056044245,
  -0.00044895973, 0.033485852, 0.044241343, 0.031609893, -0.013037908,
  0.031094003, 0.015547002, 0.022839788, -0.02054174, 0.045460716, -0.03773802,
  0.05921774, -0.012045214, 0.0103255855, 0.029827733, -0.011748187,
  0.033048127, 0.023621438, -0.044741597, 0.059499133, 0.012428222,
  -0.021917444, -0.0026458825, 0.048649844, -0.030843876, -0.025810055,
  -0.069472976, -0.025262902, -0.034736488, 0.0007884886, -0.029061716,
  0.028545829, -0.055684686, -0.012522019, 0.013600696, 0.025387965,
  -0.020870034, 0.0551219, 0.023418209, 0.011896701, -0.008262032, -0.003384541,
  -0.028858487, -0.007972822, -0.0061164047, 0.0008261055, -0.007879023,
  -0.041802596, 0.041958928, -0.00035736023, 0.033673447, -0.0028373864,
  -0.04668009, 0.0015935872, -0.022558395, 0.010692961, -0.013913355,
  0.038175747, -0.042896908, 0.009254727, 0.0015163994, 0.012154644,
  0.0053933794, -0.0027729005, -0.0054441863, -0.013381834, -0.011357362,
  0.04480413, -0.020322878, 0.0049165734, 0.037237767, -0.006010882,
  -0.011662206, 0.0036170816, 0.0042013642, 0.041208543, 0.025372332,
  -0.021260858, -0.05543456, 0.000034105553, 0.03028109, 0.0023019568,
  -0.0067026415, 0.006675284, -0.0071638147, -0.022871055, -0.036112193,
  0.010349035, -0.0077461433, 0.0327042, -0.016320834, 0.010888373, 0.013975888,
  -0.0052683153, -0.011412078, 0.005088536, -0.006800348, 0.03112527,
  0.020557374, 0.01980699, -0.0129675595, 0.017993564, -0.015242158,
  0.017931033, 0.011490243, 0.0026361118, -0.030562483, 0.0091218455,
  0.010474099, 0.0012447763, -0.05852989, 0.06093737, -0.043147035, 0.020150915,
  0.023246247, -0.06415776, -0.06765955, -0.019791357, 0.054371517,
  -0.008144785, -0.03805068, 0.0071599064, -0.04502299, 0.028780323,
  0.020182181, -0.01735261, -0.009254727, -0.0075390064, -0.05183897,
  0.028842855, 0.029984063, -0.005975708, 0.02818627, -0.04270931, 0.026622972,
  -0.009762798, 0.04930643, 0.049431495, -0.01755584, -0.020526107, -0.09542373,
  -0.01865015, -0.0017098576, -0.020401044, 0.012436039, -0.004756335,
  -0.03342332, 0.0031695873, -0.0021964342, 0.04858731, 0.023433842,
  0.006202386, 0.013303669, -0.01833749, -0.010231787, -0.0032008535,
  -0.042271588, 0.00020823622, -0.0077305106, -0.032766733, -0.011201032,
  0.011240115, -0.0610937, 0.01918167, 0.0020928658, -0.009450139, 0.0040723924,
  0.01802483, 0.004514024, -0.002083095, 0.018697048, 0.016586596, 0.0001378878,
  -0.06440789, 0.04333463, 0.038801067, -0.014163483, -0.011365179,
  -0.0020401042, -0.011888884, -0.050432004, -0.009629918, 0.0031832661,
  0.03658118, -0.018947177, -0.0035135131, -0.0037304207, -0.028749056,
  0.018978441, -0.018009197, -0.0021964342, 0.04596097, 0.00016793243,
  0.014741903, -0.005033821, -0.0040763007, 0.0834176, -0.0716616, -0.012772148,
  -0.031609893, -0.026247779, -0.043678556, 0.045867175, 0.044929195,
  -0.021198325, -0.000890103, -0.043616023, 0.021213958, -0.020526107,
  0.00346466, -0.03501788, -0.002083095, -0.01797793, -0.012178094, 0.01718065,
  0.07416287, -0.020682437, -0.034548894, -0.02740462, 0.02263656, -0.023074284,
  -0.051432516, 0.003931695, 0.012725249, -0.014093135, -0.0042482633,
  -0.013444366, -0.00866849, 0.023480741, -0.004197456, -0.03176622,
  -0.00423263, 0.032235213, -0.018321857, -0.032735467, 0.021088894,
  0.0020479208, -0.022589661, 0.0035838615, -0.014601206, 0.022511495,
  0.014421428, -0.007918106, 0.032954328, 0.0012291434, -0.03217268,
  -0.0031832661, -0.0029858998, 0.010505365, 0.0027084143, 0.0014167391,
  0.020901298, 0.00935634, 0.025825689, 0.010481915, -0.010896189, 0.0059053595,
  0.024262391, 0.028373865, 0.007202897, 0.028639626, -0.010919639,
  -0.021370288, -0.020885667, -0.012905028, 0.032547873, -0.0091218455,
  -0.018853378, -0.0025794422, -0.000096668016, 0.059405338, 0.0044632168,
  -0.010896189, 0.019150404, 0.020041484, -0.0073709516, 0.014648106,
  -0.013366201, -0.027107593, -0.03239154, -0.023480741, -0.025544295,
  -0.021464087, -0.014663738, -0.03845714, 0.0011167813, 0.0013268495,
  0.009880045, 0.01802483, 0.026529172, -0.009653367, -0.024700115,
  -0.015828395, -0.023543274, 0.032454073, -0.057935838, 0.04743047, 0.01733698,
  0.011740371, 0.03892613, -0.027607849, 0.029718302, 0.025387965, 0.037456628,
  0.01655533, -0.0019961365, -0.0072497963, -0.0009770615, 0.012748698,
  -0.041521203, 0.041302342, 0.018728314, 0.012193727, -0.0020479208,
  -0.02996843, 0.01588311, -0.005835011, -0.027217025, -0.01385864,
  -0.0026439284, -0.05308961, -0.041958928, 0.041208543, 0.0031891286,
  -0.04605477, -0.022277001, 0.0372065, -0.027748546, -0.005623966, 0.015797129,
  -0.025544295, -0.005276132, -0.036393587, 0.008676305, 0.039426383,
  0.0019658476, 0.019635027, -0.027967408, -0.017884133, -0.009661184,
  0.005197967, 0.027920509, 0.015656432, 0.03683131, -0.020104017,
  -0.0072263465, -0.0015095599, 0.01532814, 0.0072732456, -0.0029604963,
  -0.02724829, 0.024512518, -0.014796619, 0.01733698, -0.009364157, 0.059968125,
  0.016852356, 0.014335446, 0.023543274, -0.000905736, -0.018212426,
  0.026279045, 0.012998826, 0.025356699, -0.0004062133, 0.029374376,
  -0.008574692, -0.047649335, -0.0154922865, -0.022355167, 0.022730358,
  -0.026607338, 0.032672934, -0.028014306, -0.018056097, -0.0064446973,
  -0.0019463064, -0.01744641, 0.025653725, 0.012451671, -0.012865946,
  -0.008050987, -0.0037440995, 0.05093226, -0.013616329, 0.04030183,
  -0.00940324, -0.0017059493, -0.027795445, 0.0044632168, -0.016946154,
  0.0052722236, 0.031891286, -0.043147035, -0.017805967, 0.015265608,
  0.026388476, 0.025387965, 0.025919486, 0.0028881936, -0.001968779,
  -0.025528662, -0.023136815, 0.03043742, 0.017852867, 0.012146828,
  -0.007851666, 0.029296212, 0.0048501333, -0.011701288, -0.06131256,
  0.027686013, -0.0076171714, -0.016633494, 0.016055074, 0.0045726476,
  -0.0061398544, -0.027388986, 0.0282957, 0.036768775, 0.017634006,
  -0.025872588, -0.024090428, -0.0023566722, -0.008879535, -0.039113726,
  -0.007030934, -0.010059825, -0.042115256, -0.001288744, -0.010036375,
  -0.043147035, 0.015179627, -0.013092624, 0.009629918, -0.017931033,
  -0.011896701, 0.01976009, -0.017884133, 0.035862066, 0.008988965, 0.013397466,
  -0.003765595, 0.024168592, 0.00384376, 0.0031363673, -0.0054129204,
  -0.048337184, -0.00365421, 0.0017049722, -0.045804642, -0.01755584,
  0.005643507, 0.011990499, 0.033298254, -0.025497396, -0.023809034,
  0.011083785, 0.012608001, -0.008316747, -0.015203076, -0.0036346687,
  0.014030603, -0.024934608, 0.0027709464, 0.015687698, -0.030890776,
  0.020619905, 0.014257281, -0.0021534434, 0.03043742, -0.014976398, 0.04574211,
  -0.0011509784, 0.034517627, -0.006155487, 0.002337131, 0.0075702723,
  0.007089558, -0.0034861553, 0.0024094335, 0.03207888, 0.0055028102,
  0.019447431, 0.011247932, 0.0014284638, -0.0102865035, -0.028811589,
  0.003417761, -0.047993258, -0.01739951, -0.017102484, 0.00846526,
  -0.025137838, -0.019056607, 0.005088536, -0.020354144, 0.018525084,
  0.001970733, 0.0054441863, -0.03923879, -0.029984063, -0.024903342,
  -0.0032379818, -0.0314223, 0.014311996, 0.05055707, 0.0035076507,
  -0.023902832, 0.0148513345, -0.017039953, -0.0053308476, -0.038113214,
  0.021948708, 0.02054174, 0.0070348424, -0.0010952859, -0.01818116,
  0.006710458, -0.009262542, -0.003656164, 0.0018564168, 0.049681623,
  -0.01686799, 0.024090428, 0.0043186117, -0.02562246, 0.016320834,
  -0.018697048, 0.009465772, 0.018743947, 0.0007215599, -0.00037055055,
  -0.03479902, -0.027795445, 0.070098296, 0.03342332, -0.0041935476,
  0.030030962, 0.038207013, -0.018243691, -0.00043894487, 0.000008724854,
  0.0005662071, -0.011990499, 0.0017079035, 0.03773802, 0.013522531,
  -0.031047106, -0.018931543, -0.023777768, -0.013178605, -0.0134521825,
  -0.01027087, -0.011193216, 0.06497068, -0.011552774, 0.0071442733,
  0.0042717126, -0.0077695926, 0.005186242, -0.017039953, -0.04827465,
  0.031625524, -0.021151427, -0.023855932, 0.016477164, -0.020260347,
  -0.022308268, -0.01829059, -0.033266988, -0.009270359, 0.032860532,
  0.017696537, 0.038582202, 0.011185399, -0.011951416, 0.005186242, 0.016899256,
  0.04699275, 0.034392565, 0.009520487, 0.018587617, -0.01399152, -0.014812252,
  0.022699092, 0.026998162, -0.063000925, 0.020619905, -0.006151579,
  -0.022433331, 0.020557374, 0.008238582, -0.008363646, -0.019900788,
  -0.017743437, -0.025982019, 0.008449628, 0.01401497, 0.020838767,
  -0.016742926, 0.011967049, -0.000476806, 0.0038183562, -0.010161439,
  0.0045687393, -0.018853378, -0.006214111, 0.04899377, 0.008582508, 0.01058353,
  -0.0038808882, -0.025810055, -0.0051706093, 0.021808011, 0.006878513,
  0.0032712019, -0.012185911, -0.012436039, 0.005956167, -0.0014695005,
  -0.0003151023, -0.05890508, 0.015632983, 0.007976729, 0.054465316,
  0.021448454, 0.0013073082, 0.023621438, 0.030515583, 0.017149383,
  -0.0054441863, -0.03626852, -0.03698764, 0.033173192, -0.011732554,
  0.015273425, -0.054777972, 0.060749773, 0.01744641, -0.0062571014,
  0.027592216, 0.010896189, -0.027842343, 0.019838257, 0.011287014, 0.007359227,
  -0.032110147, 0.028123736, -0.0148826, -0.028842855, -0.023386944, 0.02724829,
  0.018478187, 0.009809697, 0.06225054, 0.024418721, -0.00052565907,
  -0.012647084, 0.00016194794, -0.004177915, -0.013389651, -0.020088384,
  0.0034607516, -0.012350057, -0.03145356, 0.010317769, 0.06078104, -0.00793374,
  -0.012623634, 0.0022198837, -0.012803414, -0.015632983, -0.024684481,
  0.00056816125, 0.0115293255, 0.006690917, -0.03683131, -0.011240115,
  0.012092113, -0.012701799, -0.009833147, -0.0006302046, 0.020870034,
  0.023496374, -0.011662206, -0.004041126, -0.0042013642, 0.017462043,
  0.030453052, 0.005866277, 0.029483806, -0.011787269, 0.007941555,
  -0.004052851, -0.019713191, -0.0034568436, 0.011083785, 0.0123266075,
  -0.012936294, -0.006663559, 0.012373506, 0.0009028048, -0.059905592,
  0.024184225, 0.028967919, -0.0009799927, -0.014069685, 0.013162972,
  -0.02174548, -0.014499593, 0.020776235, 0.017993564, 0.040270567,
  -0.008848269, 0.017477676, 0.006987944, -0.0065072295, 0.006597119,
  -0.0062180194, 0.011349546, 0.0036776594, 0.015015481, -0.004654721,
  -0.0069410447, 0.009098397, 0.014569941, -0.019728824, 0.015554818,
  -0.01750894, -0.017884133, 0.0014440968, 0.004310795, -0.026482275,
  -0.03395484, 0.00093455927, -0.008191683, 0.025028406, -0.0007425667,
  -0.011982682, 0.048837442, -0.0193849, 0.030030962, 0.004709436, 0.032360274,
  -0.010442833, 0.036549915, -0.03798815, -0.0298121, -0.035174213,
  -0.0061281295, -0.010388117, -0.014186933, -0.0024739197, 0.010098907,
  -0.029421275, -0.003388449, -0.039176255, 0.026404109, 0.0014020832,
  0.014679371, -0.023043018, -0.008949883, -0.0047719683, -0.0059249005,
  0.009239093, 0.018009197, 0.019978954, 0.010223971, 0.006886329, 0.010935272,
  -0.023168081, -0.024434352, -0.03112527, 0.001208625, 0.048180856,
  -0.03467396, -0.0022277, -0.0010923548, 0.020619905, 0.049650356,
  -0.010896189, 0.014655922, -0.010474099, 0.021995608, -0.025090938,
  -0.01566425, 0.0063704406, -0.030578116, 0.00806662, 0.01760274, 0.017149383,
  -0.011841985, -0.0006712412, -0.026435375, -0.013178605, -0.024246758,
  0.028108105, -0.011216666, 0.028280066, 0.017540207, 0.00024255551,
  -0.002001022, -0.0154532045, -0.004783693, -0.03751916, 0.0064134314,
  0.0178685, 0.019119138, 0.040739555, -0.019713191, -0.009629918, 0.03620599,
  0.0010483869, -0.02635721, 0.0026419742, 0.015226526, -0.009903495,
  0.010778942, -0.0047133444, 0.03542434, 0.0045843725, -0.0019169946,
  -0.01461684, 0.0008651879, 0.026544806, -0.01996332, -0.030718813,
  -0.026153982, -0.0062922756, -0.006374349, 0.0065736696, -0.014710638,
  0.010513182, 0.013843006, -0.0059522586, 0.013389651, 0.045460716, 0.0081995,
  -0.045867175, -0.0013161018, 0.025372332, 0.018697048, 0.029468173,
  -0.040020436, 0.014108768, 0.04480413, -0.0077617764, 0.005588792,
  -0.021886177, 0.023871565, 0.029311843, -0.014710638, -0.0052487743,
  0.005897543, -0.05402759, -0.0020733245, 0.014741903, 0.1298163, -0.028655259,
  -0.031250335, 0.015304691, 0.011036886, -0.020557374, -0.014687188,
  0.0063352664, -0.013999336, -0.01666476, 0.01860325, -0.02939001,
  -0.043209568, -0.004631271, -0.028530195, 0.027388986, -0.013022276,
  -0.043772355, 0.0082463985, -0.021088894, 0.025841322, -0.018274957,
  -0.012217176, 0.007839941, 0.0029507256, -0.022964852, 0.0025638093,
  -0.01593001, 0.034861553, 0.040333096, -0.009457955, -0.0102474205,
  0.03705017, 0.010075457, 0.009715899, 0.013772658, -0.015289058, -0.015836213,
  -0.012459488, 0.019744458, -0.007816492, 0.0030816519, 0.023793401,
  -0.005721672, -0.0022589662, 0.008973332, 0.01650843, -0.011443344,
  0.007390493, -0.015836213, -0.03736283, 0.030046593, -0.0046351794,
  0.02158915, -0.00016414633, -0.014069685, 0.025497396, 0.03034362,
  0.059249006, -0.011521509, -0.0062258355, -0.0016795687, 0.012615818,
  0.028561462, 0.015101462, 0.011060336, -0.028545829, 0.032954328,
  -0.00035003226, 0.03373598, -0.001907224, 0.012224993, 0.021870544,
  0.019322367, 0.007296695, 0.026544806, -0.030875143, 0.005565342,
  -0.018102994, 0.04721161, -0.0029780834, -0.0047289776, 0.01686799,
  0.014710638, 0.019009707, 0.012053031, 0.024997141, -0.00368743, -0.008121335,
  -0.034861553, 0.013671044, 0.023402575, 0.019478697, -0.010755492,
  0.006819889, 0.016492797, -0.046398696, 0.025982019, -0.0033571832,
  0.03645612, 0.02101073, -0.0065228622, -0.0011656344, 0.039551448,
  -0.015734598, -0.00004198311, -0.0073357774, -0.049681623, -0.049181364,
  0.011177584, -0.0050494536, -0.0062844595, 0.005928809, 0.013717943,
  0.031672426, -0.0624694, -0.01713375, -0.014702821, -0.004213089,
  -0.011232299, 0.037550427, 0.02798304, 0.011466794, -0.0051237103,
  0.030062227, -0.00031339246, 0.03320446, 0.011927966, 0.055372026,
  -0.013162972, -0.0051940586, -0.01532814, 0.00327511, 0.000004499826,
  0.018775214, 0.01840002, 0.010349035, -0.012639267, 0.01713375, 0.0082854815,
  0.0038750258, -0.018321857, 0.0023898922, -0.0072732456, -0.009309442,
  0.012037397, 0.022370799, -0.0031695873, -0.022245735, -0.034924086,
  -0.023652704, -0.014992031, 0.023214981, -0.021464087, -0.007890749,
  0.007023118, -0.035174213, -0.00035198638, -0.010904006, -0.011623124,
  -0.033517115, -0.0027220931, 0.0035545495, 0.0022589662, -0.013522531,
  0.021401554, -0.009520487, 0.0039961813, -0.01521871, -0.0046977117,
  0.04355349, -0.045491982, -0.013108256, 0.038550936, 0.034611426,
  -0.018165527, 0.018540718, -0.010489732, 0.030265456, 0.00995821, -0.06368878,
  -0.029671403, 0.01677419, -0.025669359, -0.030156026, 0.0313285, -0.018306224,
  0.006358716, -0.0016746833, -0.03977031, 0.0052214167, -0.020322878,
  -0.0090436805, -0.013585063, -0.021464087, -0.012991009, -0.006186753,
  -0.038519673, -0.020995097, -0.0026595613, -0.026732402, -0.028061206,
  0.007198989, -0.001192015, 0.0016805457, 0.0027357722, -0.0023879383,
  0.0150467465, -0.015382856, -0.005033821, 0.010012926, 0.025122205,
  -0.0021358563, 0.02221447, 0.044022482, 0.05193277, -0.014804435, 0.030609382,
  0.0007469635, 0.019525597, 0.0034470728, -0.015648616, 0.03395484,
  -0.011083785, 0.0015046747, 0.037706755, -0.019588128, -0.025372332,
  -0.02845203, -0.00715209, 0.015523553, 0.031781856, 0.027701646, 0.029999696,
  -0.014999848, 0.011998314, -0.01603944, 0.018947177, -0.013366201,
  0.010692961, -0.0024856443, -0.017462043, -0.01682109, -0.0054051043,
  -0.012600184, 0.051026057, 0.033266988, -0.007109099, 0.021542251,
  0.0070387507, 0.0046039135, 0.0373003, -0.0033610915, -0.015906561,
  -0.020604271, -0.01582058, 0.00425608, 0.03012476, 0.010911822, 0.0013053542,
  -0.034298766, -0.013389651, 0.023855932, -0.023918465, -0.0048227753,
  -0.012905028, 0.031484827, 0.004877491, -0.0034607516, 0.037581693,
  -0.0015232388, -0.017118117, 0.028233169, -0.012045214, -0.027107593,
  0.020135283, 0.028733423, 0.011732554, 0.0009218575, -0.0077500516,
  -0.016336467, -0.020573007, 0.0035350083, -0.0070504756, 0.007961097,
  -0.006440789, 0.0020361962, -0.013710126, -0.022417698, -0.014413611,
  0.05821723, -0.0038046774, -0.00051100313, 0.011537142, 0.0074413,
  0.035080414, -0.015687698, 0.028467663, 0.0150467465, -0.013389651,
  -0.023293145, -0.011138501, 0.011404261, -0.0312347, 0.009434505, 0.01608634,
  0.043616023, 0.026482275, -0.024981508, -0.013553796, -0.006401707,
  0.007621079, -0.0008915686, -0.024074795, 0.012881578, 0.007253704,
  -0.015296875, 0.03698764, -0.022495864, 0.029046083, 0.022370799, 0.012858129,
  0.010911822, 0.011716921, 0.017962297, -0.01655533, 0.007410034, -0.028483296,
  0.04511679, -0.011357362, 0.008988965, 0.020823134, 0.041833863, -0.034955353,
  0.025575561, -0.011513692, -0.013131706, 0.018056097, 0.0074413, -0.023027385,
  0.031938184, 0.031250335, 0.0072419797, -0.0009834124, 0.008863902,
  0.009364157, 0.020197814, 0.0053386637, 0.0064251563, 0.027732912,
  -0.028733423, 0.0047133444, 0.0052175084, 0.01813426, -0.0401455, 0.014233831,
  -0.005690406, -0.016227037, 0.01682109, -0.043897416, -0.028389499,
  -0.021041995, -0.00862159, 0.0018544627, -0.016914887, 0.03533054,
  -0.018978441, -0.011404261, 0.029171146, -0.027811078, 0.0005153999,
  0.008340197, 0.024684481, 0.00070153014, 0.01040375, -0.016336467,
  -0.009637734, -0.01735261, 0.022714725, 0.00982533, -0.0035819074,
  -0.009317258, 0.016258303, -0.0069605857, 0.020447941, 0.016000358,
  -0.0022843697, -0.005799837, -0.0075077405,
];

searchSimilarEmbeddings(exampleEmbedding);
